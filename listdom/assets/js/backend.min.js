function listdom_trigger_toggle(){jQuery(".lsd-toggle").off("click").on("click",function(){const e=jQuery(this);var s=e.data("for"),a=e.data("for2"),l=e.data("all"),t=jQuery(s).is(":visible")?"show":"hide";l&&jQuery(l).hide(),"show"==t?(jQuery(s).hide(),a&&jQuery(a).removeClass("lsd-util-hide").show()):"hide"==t&&(jQuery(s).removeClass("lsd-util-hide").show(),a)&&jQuery(a).hide(),e.data("triggered",1),setTimeout(function(){e.data("triggered",0)},200)})}function listdom_trigger_bookable_remove(){jQuery(".lsd-remove-bookable-button").off("click").on("click",function(e){e.preventDefault();const s=jQuery(this);0===s.data("confirm")?(s.data("confirm",1),s.addClass("lsd-need-confirm"),setTimeout(function(){s.data("confirm",0),s.removeClass("lsd-need-confirm")},5e3)):s.parent().parent().parent().remove()})}function listdom_trigger_bookable_advanced(){jQuery(".lsd-bookable-advanced").off("click").on("click",function(){var e=jQuery(this).data("i"),e=jQuery("#lsd_listing_bookables_"+e+"_advanced");e.hasClass("lsd-util-hide")?e.removeClass("lsd-util-hide"):e.addClass("lsd-util-hide")})}function listdom_trigger_bookable_prices(){jQuery(".lsd-bookable-add-price-button").off("click").on("click",function(){var e=jQuery(this).data("i"),s=jQuery("#lsd_listing_bookables_"+e+"_advanced"),a=s.find(jQuery(".lsd-bookable-adv-start-date")),l=s.find(jQuery(".lsd-bookable-adv-end-date")),t=s.find(jQuery(".lsd-bookable-adv-price")),s=s.find(jQuery(".lsd-listing-bookables-prices")),d=a.val(),i=l.val(),o=t.val();""===d?a.trigger("focus"):""===i?l.trigger("focus"):""===o?t.trigger("focus"):(s.prepend('<li><i class="lsd-icon fas fa-trash-alt lsd-remove-bookable-price-button" data-confirm="0"></i> <span>'+d+" - "+i+": "+o+'</span><input type="hidden" name="lsd[bookables]['+e+'][prices][]" value="'+d+","+i+","+o+'"></li>'),listdom_trigger_bookable_price_remove())}),listdom_trigger_bookable_price_remove(),jQuery(".lsd-bookable-add-unavailable-button").off("click").on("click",function(){var e=jQuery(this).data("i"),s=jQuery("#lsd_listing_bookables_"+e+"_advanced"),a=s.find(jQuery(".lsd-bookable-unavailable-start-date")),l=s.find(jQuery(".lsd-bookable-unavailable-end-date")),s=s.find(jQuery(".lsd-listing-bookables-unavailable-periods")),t=a.val(),d=l.val();""===t?a.trigger("focus"):""===d?l.trigger("focus"):(s.prepend('<li><i class="lsd-icon fas fa-trash-alt lsd-remove-bookable-unavailable-button" data-confirm="0"></i> <span>'+t+" - "+d+'</span><input type="hidden" name="lsd[bookables]['+e+'][unavailable][]" value="'+t+","+d+'"></li>'),listdom_trigger_bookable_unavailable_remove())}),listdom_trigger_bookable_unavailable_remove()}function listdom_trigger_bookable_price_remove(){jQuery(".lsd-remove-bookable-price-button").off("click").on("click",function(e){e.preventDefault();const s=jQuery(this);0===s.data("confirm")?(s.data("confirm",1),s.addClass("lsd-need-confirm"),setTimeout(function(){s.data("confirm",0),s.removeClass("lsd-need-confirm")},5e3)):s.parent().remove()})}function listdom_trigger_bookable_unavailable_remove(){jQuery(".lsd-remove-bookable-unavailable-button").off("click").on("click",function(e){e.preventDefault();const s=jQuery(this);0===s.data("confirm")?(s.data("confirm",1),s.addClass("lsd-need-confirm"),setTimeout(function(){s.data("confirm",0),s.removeClass("lsd-need-confirm")},5e3)):s.parent().remove()})}function listdom_trigger_autosuggest_remove(){jQuery(".lsd-autosuggest-current .lsd-icon").off("click").on("click",function(e){e.preventDefault();const s=jQuery(this);0===s.data("confirm")?(s.data("confirm",1),s.parent().addClass("lsd-need-confirm"),setTimeout(function(){s.data("confirm",0),s.parent().removeClass("lsd-need-confirm")},5e3)):s.parent().remove()})}function lsdaddjob_new_category(e){jQuery("#lsd_dashboard").data("job-addon-installed")&&jQuery.ajax({url:lsd.ajaxurl,type:"POST",data:{action:"lsdaddjob_is_job",category:e},dataType:"json"}).done(function(e){e.success&&(e.is_job&&(e.modules,1)?e.modules.forEach(function(e){var s=jQuery(".lsd-listing-module-"+e);s.addClass("lsd-util-hide"),s.find("[required]").removeAttr("required"),"attributes"===e?jQuery(".lsd-dashboard-attributes > h4").addClass("lsd-util-hide"):"address"===e&&jQuery(".lsd-dashboard-address > h4").addClass("lsd-util-hide")}):e.modules.forEach(function(e){jQuery(".lsd-listing-module-"+e).removeClass("lsd-util-hide"),"attributes"===e?jQuery(".lsd-dashboard-attributes > h4").removeClass("lsd-util-hide"):"address"===e&&jQuery(".lsd-dashboard-address > h4").removeClass("lsd-util-hide")}))})}!function(_){_.fn.listdomSearchBuilder=function(e){const i=_.extend({has_more_features:!1},e),o=_(".lsd-search-fields-metabox"),s=_("#lsd_search_add_row"),a=_("#lsd_search_more_options"),l=_(".lsd-search-row-actions-delete"),t=_(".lsd-search-field-actions-delete"),d=_(".lsd-search-method"),n=_(".lsd-search-sandbox"),r=_("#lsd_search_available_fields"),c=_(".lsd-search-row"),u=_(".lsd-search-field-all-terms select");function f(s,a){const l=s.data("i"),t=a.data("key");var e=a.prop("id");if(!s.find("#"+e).length){o.fadeTo(200,.7);let e=a.find(_("strong")).text();const d=s.find(".lsd-search-filters");a.find(".lsd-search-field-actions").length&&(e=a.find('input[name*="title"]').val()),a.remove(),_.ajax({url:i.ajax_url,data:"action=lsd_search_builder_params&i="+l+"&key="+t+"&title="+encodeURIComponent(e),dataType:"json",type:"post",success:function(e){1===e.success&&(d.append(e.html),d.sortable("refresh"),(e=_("#lsd_search_field_"+l+"_"+t)).find(".lsd-search-field-actions-delete").off("click").on("click",function(){h(_(this))}),e.find(".lsd-search-method").on("change",function(){m(_(this))}).trigger("change"),e.find(_(".lsd-search-field-all-terms select")).on("change",function(){var e=_(this);"1"===e.val()?e.parent().parent().find(_(".lsd-search-field-terms")).addClass("lsd-util-hide"):e.parent().parent().find(_(".lsd-search-field-terms")).removeClass("lsd-util-hide")})),o.fadeTo(200,1)},error:function(){o.fadeTo(200,1)}})}}function p(e){if(0===e.data("confirm"))return g(e);e=e.data("i"),e=_("#lsd_search_row_"+e);"more_options"===e.find('input[name*="type"]').val()&&a.removeAttr("disabled"),e.find(".lsd-search-field-actions-delete").data("confirm",1).trigger("click"),e.remove()}function h(e){if(0===e.data("confirm"))return g(e);var s=e.data("i"),e=e.data("key"),s=_("#lsd_search_field_"+s+"_"+e),a=s.find('input[name*="title"]').val();s.remove(),r.append('<div class="lsd-search-field" id="'+e+'">'+a+"</div>")}function m(e){var s=e.closest(".lsd-search-field"),e=e.val();s.find(".lsd-search-method-dependant").hide(),s.find(".lsd-search-method-"+e).show()}function g(e){e.data("confirm",1),e.addClass("lsd-need-confirm"),setTimeout(function(){e.data("confirm",0),e.removeClass("lsd-need-confirm")},1e4)}s.off("click").on("click",function(){{const e=_(".lsd-search-sandbox > div").length+1,s=_('<div class="lsd-search-row" id="lsd_search_row_'+e+'" data-i="'+e+'"><input type="hidden" name="lsd[fields]['+e+'][type]" value="row"><div class="lsd-search-filters"></div><ul class="lsd-search-row-actions"><li class="lsd-search-row-actions-sort lsd-row-handler"><i class="lsd-icon fas fa-arrows-alt"></i></li><li class="lsd-search-row-actions-delete" data-confirm="0" data-i="'+e+'"><i class="lsd-icon fas fa-trash-alt"></i></li></ul></div>');n.append(s),s.droppable({accept:".lsd-search-field",drop:function(e,s){f(_(this),s.draggable)}}),s.find(".lsd-search-filters").sortable({handle:".lsd-handler",start:function(e,s){_(s.item).addClass("lsd-field-dragging")},stop:function(e,s){_(s.item).removeClass("lsd-field-dragging")}}),n.sortable("refresh"),s.find(".lsd-search-row-actions-delete").off("click").on("click",function(){p(_(this))}),_.ajax({url:i.ajax_url,data:"action=lsd_search_builder_row_params&i="+e,dataType:"json",type:"post",success:function(e){1===e.success&&s.find(".lsd-search-row-actions").after(e.html)},error:function(){}})}}),a.off("click").on("click",function(){var e;_(".lsd-search-more-options").length?a.prop("disabled","disabled"):(e=_(".lsd-search-row").length+1,e=_('<div class="lsd-search-more-options" id="lsd_search_row_'+e+'" data-i="'+e+'"><input type="hidden" name="lsd[fields]['+e+'][type]" value="more_options"><ul class="lsd-search-row-actions"><li class="lsd-search-row-actions-sort lsd-row-handler"><i class="lsd-icon fas fa-arrows-alt"></i></li><li class="lsd-search-row-actions-delete" data-confirm="0" data-i="'+e+'"><i class="lsd-icon fas fa-trash-alt"></i></li></ul></div>'),n.append(e),a.prop("disabled","disabled"),n.sortable("refresh"),e.find(".lsd-search-row-actions-delete").off("click").on("click",function(){p(_(this))}))}),l.off("click").on("click",function(){p(_(this))}),t.off("click").on("click",function(){h(_(this))}),_("#lsd_search_available_fields").on("mouseover","div:not(.ui-draggable)",function(){_(this).draggable({revert:"invalid"})}),c.droppable({accept:".lsd-search-field",drop:function(e,s){f(_(this),s.draggable)}}),c.find(".lsd-search-filters").sortable({handle:".lsd-field-handler",start:function(e,s){_(s.item).addClass("lsd-field-dragging")},stop:function(e,s){_(s.item).removeClass("lsd-field-dragging")}}),n.sortable({handle:".lsd-row-handler"}),d.on("change",function(){m(_(this))}).trigger("change"),u.on("change",function(){var e=_(this);"1"===e.val()?e.parent().parent().find(_(".lsd-search-field-terms")).addClass("lsd-util-hide"):e.parent().parent().find(_(".lsd-search-field-terms")).removeClass("lsd-util-hide")}),_(".lsd-search-more-options").length&&a.prop("disabled","disabled")}}(jQuery),jQuery(document).ready(function(i){listdom_trigger_toggle(),i(".lsd-accordion-title").on("click",function(){let e=!1;i(this).hasClass("lsd-accordion-active")&&(e=!0),i(".lsd-accordion-title").removeClass("lsd-accordion-active"),i(".lsd-accordion-panel").removeClass("lsd-accordion-open"),e||(i(this).toggleClass("lsd-accordion-active"),i(this).next().toggleClass("lsd-accordion-open"))}),void 0!==i.fn.fontIconPicker&&i(".lsd-iconpicker").fontIconPicker({emptyIcon:!1,emptyIconValue:""}),i(".lsd-color-box").on("click",function(){var e=i(this).parent(),s=(e.find(".lsd-color-box").removeClass("lsd-color-box-active"),i(this).addClass("lsd-color-box-active"),i(this).data("color"));i(e.data("for")).wpColorPicker("color",s)}),void 0!==i.fn.wpColorPicker&&i(".lsd-colorpicker").wpColorPicker(),i(".lsd-select-image-button").on("click",function(e){e.preventDefault();const a=i(this);let l;(l=wp.media()).on("select",function(){var e=l.state().get("selection").first(),s=i(a).data("for");i(s+"_img").html('<img alt="" src="'+e.attributes.url+'">'),i(s).val(e.id),i(".lsd-select-image-button").toggleClass("lsd-util-hide"),i(".lsd-remove-image-button").toggleClass("lsd-util-hide"),l.close()}),l.open()}),i(".lsd-remove-image-button").on("click",function(e){e.preventDefault();e=i(this).data("for");i(e+"_img").html(""),i(e).val(""),i(".lsd-select-image-button").toggleClass("lsd-util-hide"),i(".lsd-remove-image-button").toggleClass("lsd-util-hide")}),i(".lsd-sortable").sortable(),i(".lsd-switch input[type=checkbox]").on("change",function(){var e=i(this).parent().find(i(".lsd-toggle"));e.data("triggered")||e.trigger("click")}),i("#lsd_all_categories").on("change",function(){i(this).is(":checked")?i("#lsd_categories_wp").addClass("lsd-util-hide"):i("#lsd_categories_wp").removeClass("lsd-util-hide")}),i("#lsd_field_type").on("change",function(){var e=i(this).val();i(".lsd-field-type-dependent").hide(),i(".lsd-field-type-dependent.lsd-field-type-"+e).show()}).trigger("change"),i("#lsd_editor, #lsd_required").on("change",function(){var e=i(this).is(":checked"),s=i(this).attr("name");e&&("lsd_editor"===s?i("#lsd_required").removeAttr("checked"):"lsd_required"===s&&i("#lsd_editor").removeAttr("checked"))}),i(".lsd-details-page-element-toggle-status strong").on("click",function(){var e=i(this).parent().data("key");i(this).hasClass("lsd-enabled")?(i(this).addClass("lsd-util-hide"),i("#lsd_actions_"+e+" .lsd-disabled").removeClass("lsd-util-hide"),i('input[name="lsd[elements]['+e+'][enabled]"]').val("0"),i("#lsd_element_"+e).addClass("lsd-element-disabled")):(i(this).addClass("lsd-util-hide"),i("#lsd_actions_"+e+" .lsd-enabled").removeClass("lsd-util-hide"),i('input[name="lsd[elements]['+e+'][enabled]"]').val("1"),i("#lsd_element_"+e).removeClass("lsd-element-disabled"))}),i("#lsd_details_page_style").on("change",function(){var e=i(this).val(),s=i("ul.lsd-elements"),a=i("#lsd_dynamic_switcher");i(".lsd-style-dependency").addClass("lsd-util-hide"),i(".lsd-style-dependency-"+e).removeClass("lsd-util-hide"),"style1"!==e?(s.removeClass("lsd-sortable"),s.sortable("disable")):(s.addClass("lsd-sortable"),s.sortable("enable")),"dynamic"===e?a.removeClass("lsd-util-hide"):(a.find(i("li[data-tab=config] a")).trigger("click"),a.addClass("lsd-util-hide"))}).trigger("change"),i(".lsd-builder-column input[type=checkbox]").on("change",function(){const a=i(this);var e=a.parent(),s=e.data("key");a.is(":checked")?e.removeClass("lsd-builder-element-disabled").addClass("lsd-builder-element-enabled"):e.removeClass("lsd-builder-element-enabled").addClass("lsd-builder-element-disabled"),"map"===s&&a.is(":checked")&&i(`.lsd-builder-column li[data-key=${s}] input[type=checkbox]`).each(function(e,s){a.prop("id")!==i(s).prop("id")&&i(s).prop("checked",!1).trigger("change")})}),i(".lsd-map-provider-toggle").on("change",function(){var e=i(this).data("parent"),s=i(this).val();i(e+" .lsd-map-provider-dependency").hide(),i(e+" .lsd-map-provider-dependency-"+s).show()}).trigger("change"),i("#lsd_display_options_skin").on("change",function(){var e=i(this).val(),s=(i(".lsd-skin-display-options").hide(),i("#lsd_skin_display_options_"+e).show(),i("#lsd_metabox_search")),s=("carousel"===e||"slider"===e||"cover"===e?s.hide():s.show(),i("#lsd_metabox_filter_options")),a=i("#lsd_metabox_default_sort"),s=("cover"===e?(s.hide(),a.hide()):(s.show(),a.show()),i("#lsd_metabox_sort_options"));"singlemap"===e||"masonry"===e||"carousel"===e||"slider"===e||"cover"===e?s.hide():s.show(),i("#lsd_display_options_skin_list_map_provider, #lsd_display_options_skin_grid_map_provider, #lsd_display_options_skin_listgrid_map_provider, #lsd_display_options_skin_halfmap_map_provider, #lsd_display_options_skin_singlemap_map_provider").trigger("change"),i(".lsd-display-options-style-selector").trigger("change")}).trigger("change"),i("#lsd_display_options_skin_list_map_provider, #lsd_display_options_skin_grid_map_provider, #lsd_display_options_skin_listgrid_map_provider, #lsd_display_options_skin_halfmap_map_provider, #lsd_display_options_skin_singlemap_map_provider").on("change",function(){var e=i("#lsd_display_options_skin").val(),s=i("#lsd_display_options_skin_"+e+"_map_provider").val(),a=i("#lsd_metabox_map_controls"),e=i("#lsd_display_options_skin_"+e+"_map_options");void 0===s||"0"===s?(e.addClass("lsd-util-hide"),a.hide()):"leaflet"===s?(e.removeClass("lsd-util-hide"),a.hide()):(e.removeClass("lsd-util-hide"),a.show())}).trigger("change"),i(".lsd-display-options-style-selector").on("change",function(){var e,s,a,l,t,d;i(this).is(":visible")&&(d=i(this).val(),e=i(".lsd-display-options-builder-skin"),s=i(".lsd-display-options-builder-option"),a=i("#lsd_display_options_skin").val(),l=i("#lsd-share-buttons-option"),t=i("#lsd-display-label-buttons-option"),!isNaN(parseFloat(d))&&isFinite(d)?(e.removeClass("lsd-util-hide"),s.addClass("lsd-util-hide")):(e.addClass("lsd-util-hide"),s.removeClass("lsd-util-hide"),"carousel"===a&&(d=i(this).val(),["style3","style4","style5"].includes(d)?l.addClass("lsd-util-hide"):l.removeClass("lsd-util-hide"),["style3","style4"].includes(d)?t.addClass("lsd-util-hide"):t.removeClass("lsd-util-hide"))))}).trigger("change"),i("#lsd_sort_options_orderby").on("change",function(){var e=i(this).val();0<i("#lsd-sort-options-"+e).find("input").filter(":disabled").length&&i('.lsd-sort-option-toggle[data-key="'+e+'"]').trigger("click")}),i(".lsd-sort-option-toggle").on("click",function(){var e=i(this).data("key"),s=i("#lsd-sort-options-"+e+"-status"),e=i("#lsd-sort-options-"+e),a=s.val();1===parseInt(a)?(s.val(0),e.find("input[type=text], select").attr("disabled","disabled"),i(this).find("i").removeClass("fa-check").addClass("fa-minus-circle")):(s.val(1),e.find("input[type=text], select").removeAttr("disabled"),i(this).find("i").removeClass("fa-minus-circle").addClass("fa-check"))}),i("#lsd_notification_content_hook").on("change",function(){var e=i(this).val();i(".lsd-placeholder-item").hide(),i(".lsd-placeholder-"+e).show(),i(".lsd-placeholder-general").show()}).trigger("change"),i("#lsd_addons_franchise_category").on("change",function(){var e=i(this).val(),s=i(".lsd-franchise-certain-category");e?s.removeClass("lsd-util-hide"):s.addClass("lsd-util-hide")}),i(".lsd-tab-switcher li a").on("click",function(e){e.preventDefault();var e=i(".lsd-tab-switcher"),s=i(this).parent(),a=i(".lsd-tab-switcher-content"),e=(e.find(i("li")).removeClass("lsd-sub-tabs-active"),s.addClass("lsd-sub-tabs-active"),s.data("tab"));a.removeClass("lsd-tab-switcher-content-active"),i(`#lsd-tab-switcher-${e}-content`).addClass("lsd-tab-switcher-content-active")})}),function(f){f(document).ready(function(){f(".lsd-tabs .nav-tab").on("click",function(){var e=f(this).data("key");f(".nav-tab").removeClass("nav-tab-active"),f(this).addClass("nav-tab-active"),f(".lsd-tab-content").removeClass("lsd-tab-content-active"),f("#lsd_tab_content_"+e).addClass("lsd-tab-content-active")}),f(".lsd-select-gallery-button").on("click",function(e){e.preventDefault();const l=f(this);let t;(t=wp.media({multiple:!0})).on("select",function(){var e=t.state().get("selection");const s=f(l).data("for"),a=f(l).data("name");e.map(function(e){e=e.toJSON(),f(s).append('<li data-id="'+e.id+'"><input type="hidden" name="'+a+'" value="'+e.id+'"><img src="'+e.url+'" alt=""><div class="lsd-gallery-actions"><i class="lsd-icon fas fa-trash-alt lsd-remove-gallery-single-button"></i> <i class="lsd-icon fas fa-arrows-alt lsd-handler"></i></div></li>')}),f(".lsd-remove-gallery-button").toggleClass("lsd-util-hide"),t.close(),f(".lsd-remove-gallery-single-button").off("click").on("click",function(e){e.preventDefault(),f(this).parent().parent().remove()})}),t.open()}),f(".lsd-upload-gallery-button").on("click",function(e){e.preventDefault(),f("#lsd_listing_gallery_uploader").click()}),f(".lsd-remove-gallery-button").on("click",function(e){e.preventDefault();e=f(this).data("for");f(e).html(""),f(this).toggleClass("lsd-util-hide")}),f(".lsd-remove-gallery-single-button").off("click").on("click",function(e){e.preventDefault(),f(this).parent().parent().remove()}),f(document).on("click",".lsd-embed-featured-icon",function(){var e=f(this),s="1"===e.attr("data-featured"),a=e.closest("li").find(".lsd-embed-code");s?(e.removeClass("fas fa-star").addClass("far fa-star").attr("title","Add as Featured Video").attr("data-featured","0").closest("li").find(".lsd-embed-featured-status").val("0"),a.attr("placeholder","Code")):(f('.lsd-embed-featured-icon[data-featured="1"]').removeClass("fas fa-star").addClass("far fa-star").attr("title","Add as Featured Video").attr("data-featured","0").closest("li").find(".lsd-embed-featured-status").val("0"),e.removeClass("far fa-star").addClass("fas fa-star").attr("title","Remove From Featured Video").attr("data-featured","1").closest("li").find(".lsd-embed-featured-status").val("1"),a.attr("placeholder","The URL of Featured video"))}),f(".lsd-add-embed-button").on("click",function(e){e.preventDefault();var e=f(this).data("template"),s=f(this).data("for"),a=f("#lsd_listing_embeds_index"),l=a.val(),t=parseInt(l)+1,a=(a.val(t),f(e).html().replace(/:i:/g,l));f(s).append(a),f(".lsd-remove-embed-single-button").off("click").on("click",function(e){e.preventDefault(),f(this).parent().parent().parent().remove()})}),f(".lsd-remove-embed-button").on("click",function(e){e.preventDefault();e=f(this).data("for");f(e).html(""),f(this).toggleClass("lsd-util-hide")}),f(".lsd-remove-embed-single-button").off("click").on("click",function(e){e.preventDefault(),f(this).parent().parent().parent().remove()}),f(".lsd-select-file-button").on("click",function(e){e.preventDefault();const a=f(this);let l;(l=wp.media()).on("select",function(){var e=l.state().get("selection").first(),s=f(a).data("for");f(s+"_file").html('<a href="'+e.attributes.url+'" target="_blank">'+e.attributes.url+"</a>"),f(s).val(e.id),f(".lsd-select-file-button").toggleClass("lsd-util-hide"),f(".lsd-remove-file-button").toggleClass("lsd-util-hide"),l.close()}),l.open()}),f(".lsd-remove-file-button").on("click",function(e){e.preventDefault();e=f(this).data("for");f(e+"_file").html(""),f(e).val(""),f(".lsd-select-file-button").toggleClass("lsd-util-hide"),f(".lsd-remove-file-button").toggleClass("lsd-util-hide")}),f(".lsd-add-bookable-button").on("click",function(e){e.preventDefault();var e=f(this).data("template"),s=f(this).data("for"),a=f("#lsd_listing_bookables_index"),l=a.val(),t=parseInt(l)+1,a=(a.val(t),f(e).html().replace(/:i:/g,l));f(s).append(a),listdom_trigger_bookable_remove(),listdom_trigger_bookable_advanced(),listdom_trigger_bookable_prices(),listdom_trigger_toggle()}),f("#lsd_bo_type").on("change",function(){var e=f(this).val();f(".lsd-listing-bookable-container").removeClass("lsd-listing-bookables-general").removeClass("lsd-listing-bookables-property").removeClass("lsd-listing-bookables-event").addClass("lsd-listing-bookables-"+e)}),listdom_trigger_bookable_remove(),listdom_trigger_bookable_advanced(),listdom_trigger_bookable_prices(),f("#lsd_listing_category").on("change",function(){var e=f(this).val();f(".lsd-category-specific").hide(),f(".lsd-category-specific-all").show(),f(".lsd-category-specific-"+e).show(),lsdaddjob_new_category(e)}).trigger("change"),f(".lsd-ava-off").on("change",function(){var e=f(this).data("daycode");f(this).is(":checked")?f("#lsd-ava-"+e+" .lsd-ava-hours input").attr("disabled","disabled").addClass("disabled"):f("#lsd-ava-"+e+" .lsd-ava-hours input").removeAttr("disabled").removeClass("disabled")}).trigger("change"),f("#lsd_object_type_address").on("keyup keypress",function(e){if(13===(e.keyCode||e.which))return e.preventDefault(),!1});let u;f(".lsd-autosuggest").on("keyup",function(){const a=f(this);var e=a.val(),s=a.data("min-characters");const l=a.data("max-items");var t=a.data("source");const d=a.data("name");var i=a.data("nonce"),o=a.data("append");const n=f(o),r=a.parent(),c=f(a.data("suggestions"));if(e.length<s)return!1;u&&u.abort(),u=f.ajax({url:lsd.ajaxurl,data:"action=lsd_autosuggest&_wpnonce="+i+"&term="+e+"&source="+t,dataType:"json",type:"post",success:function(e){e.success&&(r.addClass("lsd-has-suggestions"),c.html(e.items),c.find(f("li")).off("click").on("click",function(){var e=f(this),s=e.data("value"),e=e.text();l&&n.find(f("span")).length>=l||(n.find(f(".lsd-autosuggest-items-"+s)).length||(n.append('<span class="lsd-autosuggest-items-'+s+'">'+e+' <i class="lsd-icon far fa-trash-alt" data-value="'+s+'" data-confirm="0"></i><input type="hidden" name="'+d+'[]" value="'+s+'"></span>'),listdom_trigger_autosuggest_remove()),a.val(""),c.html(""),r.removeClass("lsd-has-suggestions"))}))}})}),listdom_trigger_autosuggest_remove(),void 0!==f.fn.daterangepicker&&f("input.lsd-date-range-picker").each(function(){var e=f(this),s=e.data("periods");const a=e.data("format");var l={};for(const t in s)l[s[t]]=[moment().add(t,"month").startOf("month"),moment().add(t,"month").endOf("month")];e.daterangepicker({minDate:moment(),ranges:l,alwaysShowCalendars:!0,showCustomRangeLabel:!1,autoUpdateInput:!1,locale:{format:a}}),e.on("apply.daterangepicker",function(e,s){f(this).val(s.startDate.format(a)+" - "+s.endDate.format(a))}),e.on("cancel.daterangepicker",function(){f(this).val("")})}),f(".lsd-uploader input[type=file]").on("change",function(e){e.preventDefault();var s=f(this),e=s.data("key"),a=s.data("nonce"),l=f("#lsd_uploader_"+e+"_wrapper");const t=l.find(f(".lsd-uploader-preview")),d=l.find(f("input.lsd-uploader-value")),i=f("#lsd_uploader_"+e+"_message");var o=new FormData,n=(o.append("action","lsd_uploader"),o.append("key",e),o.append("_wpnonce",a),s.prop("files").length);for(let e=0;e<n;e++)o.append("files[]",s.prop("files")[e]);i.html(""),f.ajax({url:lsd.ajaxurl,type:"POST",data:o,dataType:"json",processData:!1,contentType:!1}).done(function(e){if(e.success){let s="";t.length&&(t.html(""),e.data.map(function(e){t.append('<a href="'+e.url+'" target="_blank">'+e.url+"</a><br>")})),e.data.map(function(e){s+=e.id+","}),i.html(listdom_alertify(e.message,"lsd-success")),d.val(s)}else i.html(listdom_alertify(e.message,"lsd-error"));setTimeout(function(){i.html("")},5e3)})})})}(jQuery);let listdom_googlemaps_callbacks=[];function listdom_add_googlemaps_callbacks(e){return!(void 0===e||!jQuery.isFunction(e)||(listdom_did_googlemaps_callbacks?e():listdom_googlemaps_callbacks.push(e),0))}function listdom_get_googlemaps_callbacks(){return listdom_googlemaps_callbacks}let listdom_did_googlemaps_callbacks=!1;function listdom_googlemaps_callback(){for(var e in listdom_did_googlemaps_callbacks=!0,listdom_get_googlemaps_callbacks())listdom_googlemaps_callbacks[e]()}function listdom_alertify(e,s){return'<div class="lsd-alert '+s+'">'+e+"</div>"}