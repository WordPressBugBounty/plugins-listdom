function ListdomLoadingWrapper(){this.wrap=jQuery("#wpwrap"),this.body=jQuery("body"),this.scrollTop=0,this.start=()=>{this.scrollTop=window.scrollY||document.documentElement.scrollTop||0,this.wrap.addClass("lsd-loading-wrapper");var e=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight);this.body.addClass("lsd-not-scrollable").css({top:`-${this.scrollTop}px`,height:e+"px",overflowY:"scroll"})},this.stop=(e,s)=>{void 0===s&&(s=0),e&&this.wrap.prepend(e)&&e.removeClass("lsd-util-hide"),setTimeout(()=>{e&&e.addClass("lsd-util-hide"),this.wrap.removeClass("lsd-loading-wrapper"),this.body.removeClass("lsd-not-scrollable").css({top:"",height:"",overflowY:""}),window.scrollTo(0,this.scrollTop)},s)}}function ListdomButtonLoader(e){this.$button=e,this.originalHtml=e.html(),this.start=e=>{this.$button.html(e+' <i class="lsd-loader"></i>').attr("disabled","disabled")},this.stop=()=>{this.$button.html(this.originalHtml).removeAttr("disabled")}}function listdom_trigger_toggle(){jQuery(".lsd-toggle").off("click").on("click",function(){let e=jQuery(this);var s=e.data("for"),t=e.data("for2"),l=e.data("all"),a=jQuery(s).is(":visible")?"show":"hide";l&&jQuery(l).hide(),"show"==a?(jQuery(s).addClass("lsd-util-hide").hide(),t&&jQuery(t).removeClass("lsd-util-hide").show()):"hide"==a&&(jQuery(s).removeClass("lsd-util-hide").show(),t)&&jQuery(t).addClass("lsd-util-hide").hide(),e.data("triggered",1),setTimeout(function(){e.data("triggered",0)},200)})}function listdom_trigger_select(){jQuery(".lsd-trigger-select-options").off("change").on("change",function(){var e=jQuery(this).find("option:selected"),s=e.data("lsd-show"),e=e.data("lsd-hide");s&&jQuery(s).removeClass("lsd-util-hide").show(),e&&jQuery(e).addClass("lsd-util-hide").hide()})}function listdom_trigger_bookable_remove(){jQuery(".lsd-remove-bookable-button").off("click").on("click",function(e){e.preventDefault();let s=jQuery(this);0===s.data("confirm")?(s.data("confirm",1),s.addClass("lsd-need-confirm"),setTimeout(function(){s.data("confirm",0),s.removeClass("lsd-need-confirm")},5e3)):s.parent().parent().parent().remove()})}function listdom_trigger_bookable_advanced(){jQuery(".lsd-bookable-advanced").off("click").on("click",function(){var e=jQuery(this).data("i"),e=jQuery("#lsd_listing_bookables_"+e+"_advanced");e.hasClass("lsd-util-hide")?e.removeClass("lsd-util-hide"):e.addClass("lsd-util-hide")})}function listdom_trigger_bookable_prices(){jQuery(".lsd-bookable-add-price-button").off("click").on("click",function(){var e=jQuery(this).data("i"),s=jQuery("#lsd_listing_bookables_"+e+"_advanced"),t=s.find(jQuery(".lsd-bookable-adv-start-date")),l=s.find(jQuery(".lsd-bookable-adv-end-date")),a=s.find(jQuery(".lsd-bookable-adv-price")),s=s.find(jQuery(".lsd-listing-bookables-prices")),i=t.val(),d=l.val(),o=a.val();""===i?t.trigger("focus"):""===d?l.trigger("focus"):""===o?a.trigger("focus"):(s.prepend('<li><i class="lsd-icon fas fa-trash-alt lsd-remove-bookable-price-button" data-confirm="0"></i> <span>'+i+" - "+d+": "+o+'</span><input type="hidden" name="lsd[bookables]['+e+'][prices][]" value="'+i+","+d+","+o+'"></li>'),listdom_trigger_bookable_price_remove())}),listdom_trigger_bookable_price_remove(),jQuery(".lsd-bookable-add-unavailable-button").off("click").on("click",function(){var e=jQuery(this).data("i"),s=jQuery("#lsd_listing_bookables_"+e+"_advanced"),t=s.find(jQuery(".lsd-bookable-unavailable-start-date")),l=s.find(jQuery(".lsd-bookable-unavailable-end-date")),s=s.find(jQuery(".lsd-listing-bookables-unavailable-periods")),a=t.val(),i=l.val();""===a?t.trigger("focus"):""===i?l.trigger("focus"):(s.prepend('<li><i class="lsd-icon fas fa-trash-alt lsd-remove-bookable-unavailable-button" data-confirm="0"></i> <span>'+a+" - "+i+'</span><input type="hidden" name="lsd[bookables]['+e+'][unavailable][]" value="'+a+","+i+'"></li>'),listdom_trigger_bookable_unavailable_remove())}),listdom_trigger_bookable_unavailable_remove()}function listdom_trigger_bookable_price_remove(){jQuery(".lsd-remove-bookable-price-button").off("click").on("click",function(e){e.preventDefault();let s=jQuery(this);0===s.data("confirm")?(s.data("confirm",1),s.addClass("lsd-need-confirm"),setTimeout(function(){s.data("confirm",0),s.removeClass("lsd-need-confirm")},5e3)):s.parent().remove()})}function listdom_trigger_bookable_unavailable_remove(){jQuery(".lsd-remove-bookable-unavailable-button").off("click").on("click",function(e){e.preventDefault();let s=jQuery(this);0===s.data("confirm")?(s.data("confirm",1),s.addClass("lsd-need-confirm"),setTimeout(function(){s.data("confirm",0),s.removeClass("lsd-need-confirm")},5e3)):s.parent().remove()})}function listdom_trigger_autosuggest_remove(){jQuery(".lsd-autosuggest-current .lsd-icon").off("click").on("click",function(e){e.preventDefault();let s=jQuery(this),t=s.closest(".lsd-autosuggest-wrapper"),l=s.closest(".lsd-autosuggest-current");0===s.data("confirm")?(s.data("confirm",1),s.parent().addClass("lsd-need-confirm"),setTimeout(function(){s.data("confirm",0),s.parent().removeClass("lsd-need-confirm")},5e3)):(s.parent().remove(),setTimeout(()=>{var e=t.data("toggle");e&&!l.find(jQuery("span")).length&&jQuery(e).addClass("lsd-util-hide")},10))})}function lsdaddjob_new_category(e){jQuery("#lsd_dashboard").data("job-addon-installed")&&jQuery.ajax({url:lsd.ajaxurl,type:"POST",data:{action:"lsdaddjob_is_job",category:e},dataType:"json"}).done(function(e){e.success&&(e.is_job&&(e.modules,1)?e.modules.forEach(function(e){var s=jQuery(".lsd-listing-module-"+e);s.addClass("lsd-util-hide"),s.find("[required]").removeAttr("required"),"attributes"===e?jQuery(".lsd-dashboard-attributes > h4").addClass("lsd-util-hide"):"address"===e&&jQuery(".lsd-dashboard-address > h4").addClass("lsd-util-hide")}):e.modules.forEach(function(e){jQuery(".lsd-listing-module-"+e).removeClass("lsd-util-hide"),"attributes"===e?jQuery(".lsd-dashboard-attributes > h4").removeClass("lsd-util-hide"):"address"===e&&jQuery(".lsd-dashboard-address > h4").removeClass("lsd-util-hide")}))})}(Q=>{Q.fn.listdomSearchBuilder=function(e){let d=Q.extend({has_more_features:!1,post_id:0},e),s=Q("#lsd-search-fields"),o=s.data("active-device"),t=("desktop"===o&&(o="fields"),Q(".lsd-search-fields-device-"+s.data("active-device"))),l=t.find(Q(".lsd-search-sandbox")),a=t.find(Q(".lsd-search-available-fields-container")),i=t.find(Q(".lsd-search-row")),n=Q(".lsd-search-fields-metabox"),r=Q("#lsd_search_form_style"),c=Q("#lsd_search_add_row"),u=Q("#lsd_search_more_options"),p=Q(".lsd-search-row-actions-delete"),h=Q(".lsd-search-field-actions-delete"),f=Q(".lsd-search-method"),m=Q(".lsd-search-device-tabs"),g=Q(".lsd-search-field-all-terms select"),v=Q("#lsd_search_form_results_page");function _(){l.sortable({handle:".lsd-row-handler"}),t.find(Q(".lsd-search-row")).find(".lsd-search-filters").sortable({handle:".lsd-field-handler",start:function(e,s){Q(s.item).addClass("lsd-field-dragging")},stop:function(e,s){Q(s.item).removeClass("lsd-field-dragging")}})}function b(){r.off("change").on("change",function(){"sidebar"===r.val()?s.addClass("lsd-search-style-sidebar"):s.removeClass("lsd-search-style-sidebar")}).trigger("change"),c.off("click").on("click",function(){y()}),u.off("click").on("click",function(){(()=>{if(t.find(Q(".lsd-search-more-options")).length)return u.prop("disabled","disabled");let e=Q(".lsd-search-row").length+1,s=Q('<div class="lsd-search-more-options" id="lsd_'+o+"_search_row_"+e+'" data-i="'+e+'"><span class="lsd-search-more-options-label">'+lsd.i18n_field_search+'</span><input type="hidden" name="lsd['+o+"]["+e+'][type]" value="more_options"><ul class="lsd-search-row-actions"><li class="lsd-search-row-actions-sort lsd-row-handler"><i class="lsd-icon fas fa-arrows-alt"></i></li><li class="lsd-search-row-actions-delete lsd-tooltip" data-lsd-tooltip="'+lsd.i18n_field_delete+'" data-confirm="0" data-i="'+e+'"><i class="lsd-icon fas fa-trash-alt"></i></li></ul></div>');l.append(s),u.prop("disabled","disabled"),l.sortable("refresh"),s.find(".lsd-search-row-actions-delete").off("click").on("click",function(){C(Q(this))}),Q.ajax({url:d.ajax_url,data:"action=lsd_search_builder_row_params&type=more_options&i="+e+"&device_key="+o+"&post_id="+d.post_id,dataType:"json",type:"post",success:function(e){1===e.success&&s.find(".lsd-search-row-actions").after(e.html)},error:function(){}})})(),y()}),m.find(Q("li")).off("click").on("click",function(){var e=Q(this).data("device");t=Q(".lsd-search-fields-device-"+e),m.find(Q("li")).removeClass("lsd-tab-active"),m.find(Q("li[data-device="+e+"]")).addClass("lsd-tab-active"),Q(".lsd-search-fields-device").addClass("lsd-util-hide"),t.removeClass("lsd-util-hide"),s.data("active-device",e),o="desktop"===e?"fields":e,l=t.find(Q(".lsd-search-sandbox")),a=t.find(Q(".lsd-search-available-fields-container")),i=t.find(Q(".lsd-search-row")),t.find(Q(".lsd-search-more-options")).length?u.attr("disabled","disabled"):u.removeAttr("disabled"),b()}),p.off("click").on("click",function(){C(Q(this))}),h.off("click").on("click",function(){w(Q(this))}),Q(document).on("click",".lsd-search-field-actions-visibility",function(){var e,s,t,l;e=Q(this),s=e.data("i"),t=e.data("key"),l=Q("#lsd_"+o+"_search_field_"+s+"_"+t),s=Q("#lsd_"+o+"_"+s+"_filters_"+t+"_visibility"),l.hasClass("lsd-search-field-hidden")?(l.removeClass("lsd-search-field-hidden"),s.val(1),e.find(Q("i")).removeClass("fa-eye-slash").addClass("fa-eye")):(l.addClass("lsd-search-field-hidden"),s.val(0),e.find(Q("i")).removeClass("fa-eye").addClass("fa-eye-slash"))}),Q(document).on("click",".lsd-search-field-param-title-visibility",function(){var e,s,t,l,a,i,d;e=Q(this),s=e.data("i"),t=e.data("key"),l=Q("#lsd_"+o+"_search_field_"+s+"_"+t),s=Q("#lsd_"+o+"_"+s+"_filters_"+t+"_title_visibility"),t=l.find(Q(".lsd-search-field-param-title")),a=l.find(Q(".lsd-search-field-param-placeholder")),i=t.val(),d=a.val(),l.hasClass("lsd-search-field-title-hidden")?(l.removeClass("lsd-search-field-title-hidden"),s.val(1),t.removeAttr("disabled"),e.find(Q("i")).removeClass("fa-eye-slash").addClass("fa-eye")):(l.addClass("lsd-search-field-title-hidden"),s.val(0),t.val("").attr("disabled","disabled"),""===d&&a.val(i),e.find(Q("i")).removeClass("fa-eye").addClass("fa-eye-slash"))}),Q(document).on("change",".lsd-search-row-params .lsd-switch input[type=checkbox]",function(){Q(this).is(":checked")?Q(this).closest(".lsd-search-row-button-wrapper-params").addClass("lsd-search-row-button-enabled"):Q(this).closest(".lsd-search-row-button-wrapper-params").removeClass("lsd-search-row-button-enabled")}),a.off("mouseover").on("mouseover","div:not(.ui-draggable)",function(){Q(this).draggable({revert:"invalid"})}),i.droppable({accept:".lsd-search-field",drop:function(e,s){k(Q(this),s.draggable)}}),_(),f.off("change").on("change",function(){j(Q(this))}).trigger("change"),g.off("change").on("change",function(){var e=Q(this);"1"===e.val()?e.parent().parent().find(Q(".lsd-search-field-terms")).addClass("lsd-util-hide"):e.parent().parent().find(Q(".lsd-search-field-terms")).removeClass("lsd-util-hide")}),i.find('select[multiple=""]').each(function(){Q(this).select2({allowClear:Q(this).attr("multiple"),placeholder:Q(this).attr("placeholder"),minimumResultsForSearch:0,shouldFocusInput:()=>!1})}),v.off("change").on("change",function(){var e=Q(".lsd-search-target-shortcode"),s=Q(".lsd-search-connected-shortcodes");Q(this).val()?(e.removeClass("lsd-util-hide"),s.addClass("lsd-util-hide")):(e.addClass("lsd-util-hide"),s.removeClass("lsd-util-hide"))}),Q(".lsd-searchable-select").each(function(){var e=Q(this);e.hasClass("select2-hidden-accessible")||e.select2({allowClear:Q(this).attr("multiple"),placeholder:Q(this).attr("placeholder"),width:"100%",minimumResultsForSearch:0,shouldFocusInput:()=>!1})}),Q(document).on("change",".lsd-more-options-type-toggle",function(){var e=Q(this),s=Q(e.data("for"));"popup"===e.val()?s.removeClass("lsd-util-hide"):s.addClass("lsd-util-hide")})}function y(){var e=Q(".lsd-search-sandbox > div").length+1;let s=Q('<div class="lsd-search-row" id="lsd_'+o+"_search_row_"+e+'" data-i="'+e+'"><ul class="lsd-search-row-actions"><li class="lsd-search-row-actions-sort lsd-row-handler"><i class="lsd-icon fas fa-arrows-alt"></i></li><li class="lsd-search-row-actions-delete lsd-tooltip" data-lsd-tooltip="'+lsd.i18n_field_delete+'" data-confirm="0" data-i="'+e+'"><i class="lsd-icon fas fa-trash-alt"></i></li></ul><input type="hidden" name="lsd['+o+"]["+e+'][type]" value="row"><div class="lsd-search-filters"></div></div>');l.append(s),s.droppable({accept:".lsd-search-field",drop:function(e,s){k(Q(this),s.draggable)}}),s.find(".lsd-search-filters").sortable({handle:".lsd-handler",start:function(e,s){Q(s.item).addClass("lsd-field-dragging")},stop:function(e,s){Q(s.item).removeClass("lsd-field-dragging")}}),_(),s.find(".lsd-search-row-actions-delete").off("click").on("click",function(){C(Q(this))}),Q.ajax({url:d.ajax_url,data:"action=lsd_search_builder_row_params&type=row&i="+e+"&device_key="+o+"&post_id="+d.post_id,dataType:"json",type:"post",success:function(e){1===e.success&&s.find(".lsd-search-filters").after(e.html)},error:function(){}})}function k(t,l){let a=t.data("i"),i=l.data("key");var e=l.prop("id");if(!t.find("#"+e).length){n.fadeTo(200,.7);let e=l.find(Q("strong")).text(),s=t.find(".lsd-search-filters");l.find(".lsd-search-field-actions").length&&(e=l.find('input[name*="title]"]').val()),l.remove(),Q.ajax({url:d.ajax_url,data:"action=lsd_search_builder_params&i="+a+"&key="+i+"&title="+encodeURIComponent(e)+"&device_key="+o,dataType:"json",type:"post",success:function(e){1===e.success&&(s.append(e.html),_(),(e=Q("#lsd_"+o+"_search_field_"+a+"_"+i)).find(".lsd-search-field-actions-delete").off("click").on("click",function(){w(Q(this))}),e.find(".lsd-search-method").on("change",function(){j(Q(this))}).trigger("change"),e.find(Q(".lsd-search-field-all-terms select")).on("change",function(){var e=Q(this);"1"===e.val()?e.parent().parent().find(Q(".lsd-search-field-terms")).addClass("lsd-util-hide"):e.parent().parent().find(Q(".lsd-search-field-terms")).removeClass("lsd-util-hide")}),e.find('select[multiple=""]').each(function(){Q(this).select2({allowClear:Q(this).attr("multiple"),placeholder:Q(this).attr("placeholder"),minimumResultsForSearch:0,shouldFocusInput:()=>!1})})),n.fadeTo(200,1)},error:function(){n.fadeTo(200,1)}})}}function C(e){if(0===e.data("confirm"))return x(e);e=e.data("i"),e=Q("#lsd_"+o+"_search_row_"+e);"more_options"===e.find('input[name*="type"]').val()&&u.removeAttr("disabled"),e.find(".lsd-search-field-actions-delete").data("confirm",1).trigger("click"),e.remove()}function w(e){if(0===e.data("confirm"))return x(e);var s=e.data("i"),e=e.data("key"),s=Q("#lsd_"+o+"_search_field_"+s+"_"+e),t=s.data("label");s.remove(),a.append('<div class="lsd-search-field" id="lsd_search_available_'+o+"_"+e+'" data-key="'+e+'"><strong>'+t+"</strong></div>")}function j(e){var s=e.closest(".lsd-search-field"),e=e.val();s.find(".lsd-search-method-dependant").hide(),s.find(".lsd-search-method-"+e).show()}function x(e){e.data("confirm",1),e.addClass("lsd-need-confirm"),setTimeout(function(){e.data("confirm",0),e.removeClass("lsd-need-confirm")},1e4)}b(),t.find(Q(".lsd-search-more-options")).length&&u.prop("disabled","disabled")}})(jQuery),jQuery(document).ready(function(n){function l(e,s){e&&n(e+" select[data-style-options]").each(function(){var a=n(this),i=s;if(a&&a.length){let t=a.data("styleOptionsMap");if(!t){var d=a.attr("data-style-options");if(!d)return;try{t=JSON.parse(d)}catch(e){t=null}if(!t||"object"!=typeof t)return;a.data("styleOptionsMap",t)}d=Object.keys(t);if(d.length){let s=i;s&&void 0!==t[s]||(i=a.attr("data-style-options-active"),s=i&&void 0!==t[i]?i:void 0!==t.default?"default":d[0]);let l=t[s];if(l&&"object"==typeof l){i=a.val();let t=a.get(0);if(t){d=Object.keys(l);if(d.length){t.options.length=0,d.forEach(e=>{var s=document.createElement("option");s.value=e,s.textContent=l[e],t.appendChild(s)});let e=i;d=(e=Object.prototype.hasOwnProperty.call(l,e)?e:d[0])!==i;null!=e&&a.val(e),a.attr("data-style-options-active",s),d&&a.trigger("change")}}}}}})}listdom_trigger_toggle(),listdom_trigger_select(),n(".lsd-accordion-title").on("click",function(e){let s=!1;n(this).hasClass("lsd-accordion-active")&&(s=!0),n(".lsd-accordion-title").not(n(this).parents(".lsd-accordion-panel").prev(".lsd-accordion-title")).removeClass("lsd-accordion-active"),n(".lsd-accordion-panel").not(n(this).parents(".lsd-accordion-panel")).removeClass("lsd-accordion-open"),s||(n(this).toggleClass("lsd-accordion-active"),n(this).next().toggleClass("lsd-accordion-open"),e.stopPropagation())}),void 0!==n.fn.fontIconPicker&&n(".lsd-iconpicker").fontIconPicker({emptyIcon:!1,emptyIconValue:""}),n(".lsd-color-box").on("click",function(){var e=n(this).parent(),s=(e.find(".lsd-color-box").removeClass("lsd-color-box-active"),n(this).addClass("lsd-color-box-active"),n(this).data("color"));n(e.data("for")).wpColorPicker("color",s)}),void 0!==n.fn.wpColorPicker&&n(".lsd-colorpicker").wpColorPicker(),n(".lsd-sortable").sortable(),n(".lsd-switch input[type=checkbox]").on("change",function(){var e=n(this).parent().find(n(".lsd-toggle"));e.data("triggered")||e.trigger("click")}),n("#lsd_all_categories").on("change",function(){n(this).is(":checked")?n("#lsd_categories_wp").addClass("lsd-util-hide"):n("#lsd_categories_wp").removeClass("lsd-util-hide")}),n("#lsd_field_type").on("change",function(){var e=n(this).val();n(".lsd-field-type-dependent").hide(),n(".lsd-field-type-dependent.lsd-field-type-"+e).show()}).trigger("change"),n("#lsd_editor, #lsd_required").on("change",function(){var e=n(this).is(":checked"),s=n(this).attr("name");e&&("lsd_editor"===s?n("#lsd_required").removeAttr("checked"):"lsd_required"===s&&n("#lsd_editor").removeAttr("checked"))}),n(".lsd-details-page-element-toggle-status strong").on("click",function(){var e=n(this).parent().data("key");n(this).hasClass("lsd-enabled")?(n(this).addClass("lsd-util-hide"),n("#lsd_actions_"+e+" .lsd-disabled").removeClass("lsd-util-hide"),n('input[name="lsd[elements]['+e+'][enabled]"]').val("0"),n("#lsd_element_"+e).addClass("lsd-element-disabled")):(n(this).addClass("lsd-util-hide"),n("#lsd_actions_"+e+" .lsd-enabled").removeClass("lsd-util-hide"),n('input[name="lsd[elements]['+e+'][enabled]"]').val("1"),n("#lsd_element_"+e).removeClass("lsd-element-disabled"))}),n("#lsd_details_page_style").on("change",function(){var e=n(this).val(),s=n("ul.lsd-elements"),t=n("#lsd_dynamic_switcher");n(".lsd-style-dependency").addClass("lsd-util-hide"),n(".lsd-style-dependency-"+e).removeClass("lsd-util-hide"),"style1"!==e?(s.removeClass("lsd-sortable"),s.sortable("disable")):(s.addClass("lsd-sortable"),s.sortable("enable")),"dynamic"===e?t.removeClass("lsd-util-hide"):(t.find(n("li[data-tab=config] a")).trigger("click"),t.addClass("lsd-util-hide"))}).trigger("change"),n(".lsd-builder-column input[type=checkbox]").on("change",function(){let t=n(this);var e=t.parent(),s=e.data("key");t.is(":checked")?e.removeClass("lsd-builder-element-disabled").addClass("lsd-builder-element-enabled"):e.removeClass("lsd-builder-element-enabled").addClass("lsd-builder-element-disabled"),"map"===s&&t.is(":checked")&&n(`.lsd-builder-column li[data-key=${s}] input[type=checkbox]`).each(function(e,s){t.prop("id")!==n(s).prop("id")&&n(s).prop("checked",!1).trigger("change")})}),n(".lsd-map-provider-toggle").on("change",function(){var e=n(this).data("parent"),s=n(this).val();n(e+" .lsd-map-provider-dependency").hide(),n(e+" .lsd-map-provider-dependency-"+s).show()}).trigger("change"),n(".lsd-default-view-toggle").on("change",function(){var e=n(this).data("parent"),s=n(this).val();n(e+" .lsd-default-view-dependency").hide(),n(e+" .lsd-default-view-dependency-"+s).show()}).trigger("change"),n(".lsd-display-options-style-toggle").on("change",function(){let s=n(this).val();var e=n(this).data("parent");let t=[];Array.isArray(e)?t=e:"string"==typeof e?t=e.split(","):e&&(t=[e]),t.length||(e=n(this).closest(".lsd-skin-display-options")).length&&(t=["#"+e.attr("id")]),t.map(e=>(e||"").toString().trim()).filter(Boolean).forEach(e=>{n(e+" .lsd-display-options-style-dependency").hide(),n(e+" .lsd-display-options-style-dependency-"+s).show(),n(e+" .lsd-display-options-style-not-for").show(),n(e+" .lsd-display-options-style-not-for-"+s).hide(),isNaN(s)||(n(e+" .lsd-display-options-style-dependency-custom").show(),n(e+" .lsd-display-options-style-not-for-custom").hide()),l(e,s)})}).trigger("change"),n(".lsd-gallery-element-style-toggle").on("change",function(){var e=n(this).data("parent"),s=n(this).val();n(e+" .lsd-gallery-element-style-dependency").hide(),n(e+" .lsd-gallery-element-style-dependency-"+s).show(),n(e+" .lsd-gallery-element-style-not-for").show(),n(e+" .lsd-gallery-element-style-not-for-"+s).hide(),isNaN(s)||(n(e+" .lsd-gallery-element-style-dependency-custom").show(),n(e+" .lsd-gallery-element-style-not-for-custom").hide())}).trigger("change"),n(".lsd-do-listing-link").on("change",function(){var e=n(this).parent().parent().parent(),s=n(this).val();e.find(n(".lsd-do-listing-link-dependent")).addClass("lsd-util-hide"),e.find(n(".lsd-do-listing-link-dependent-"+s)).removeClass("lsd-util-hide")}).trigger("change"),n("#lsd_display_options_skin").on("change",function(){var e=n(this).val(),s=(n(".lsd-skin-display-options").hide(),n("#lsd_skin_display_options_"+e).show(),n("#lsd_skin_display_options_map_"+e).show(),n("#lsd_skin_display_options_layout_"+e).show(),n(".lsd-display-options-map-tab")),s=("side"===e||"table"===e||"masonry"===e||"carousel"===e||"cover"===e||"slider"===e?s.hide():s.show(),n("#lsd_metabox_search")),t=n(".lsd-display-options-search-tab"),s=("carousel"===e||"slider"===e||"cover"===e?(s.hide(),t.hide()):(s.show(),t.show()),n("#lsd_metabox_filter_options")),t=n(".lsd-display-options-filter-options-tab"),l=n("#lsd_metabox_default_sort"),a=n(".lsd-display-options-sort-tab"),s=("cover"===e?(s.hide(),t.hide(),l.hide(),a.hide()):(s.show(),t.show(),l.show(),a.show()),n(".lsd-display-options-elements-tab")),t=("singlemap"===e?(n(".lsd-display-options-builder-skin").addClass("lsd-util-hide"),s.hide()):s.show(),n("#lsd_metabox_sort_options")),l=n("#lsd_metabox_sort_options_tab");"singlemap"===e||"masonry"===e||"carousel"===e||"slider"===e||"cover"===e?(t.hide(),l.hide()):(t.show(),l.show()),n("#lsd_display_options_skin_list_map_provider,#lsd_display_options_skin_grid_map_provider,#lsd_display_options_skin_accordion_map_provider,#lsd_display_options_skin_mosaic_map_provider,#lsd_display_options_skin_timeline_map_provider,#lsd_display_options_skin_listgrid_map_provider,#lsd_display_options_skin_halfmap_map_provider,#lsd_display_options_skin_singlemap_map_provider,#lsd_display_options_skin_gallery_map_provider").trigger("change"),n(".lsd-display-options-style-selector").trigger("change")}).trigger("change"),n(document).on("click",".lsd-copy",function(){let e=n(this);var s=e.data("target"),s=n("#"+s).length?n("#"+s):n("."+s);let t=e.html(),l=e.data("copied");var a=s.data("lsd-copy");let i=(void 0!==a?a:s.text()).trim(),d=()=>{e.text(l),setTimeout(()=>e.html(t),6e3)},o=e=>{var s=window.scrollX||window.pageXOffset,t=window.scrollY||window.pageYOffset,e=n("<textarea>").val(e).css({position:"fixed",top:"0",left:"0",width:"1px",height:"1px",opacity:"0",zIndex:"-1"}).appendTo("body");e[0].focus(),e[0].select();try{document.execCommand("copy")&&d()}catch(e){}e.remove(),window.scrollTo(s,t)};navigator.clipboard&&navigator.clipboard.writeText?navigator.clipboard.writeText(i).then(d).catch(()=>o(i)):o(i)}),n("#lsd_display_options_skin_list_map_provider,#lsd_display_options_skin_accordion_map_provider,#lsd_display_options_skin_mosaic_map_provider,#lsd_display_options_skin_timeline_map_provider,#lsd_display_options_skin_grid_map_provider,#lsd_display_options_skin_listgrid_map_provider,#lsd_display_options_skin_halfmap_map_provider,#lsd_display_options_skin_singlemap_map_provider,#lsd_display_options_skin_gallery_map_provider").on("change",function(){var e=n("#lsd_display_options_skin").val(),s=n("#lsd_display_options_skin_"+e+"_map_provider").val(),t=n("#lsd_metabox_map_controls"),l=n(".lsd-metabox-map-controls-tab"),e=n(".lsd_display_options_skin_"+e+"_map_options");void 0===s||"0"===s?(e.addClass("lsd-util-hide"),t.hide(),l.hide()):"leaflet"===s?(e.removeClass("lsd-util-hide"),t.hide(),l.hide()):(e.removeClass("lsd-util-hide"),t.show(),l.show())}).trigger("change"),n(".lsd-display-options-style-selector").on("change",function(){var e,s,t;n(this).is(":visible")&&(e=n(this).val(),s=n(".lsd-display-options-builder-skin"),t=n(".lsd-display-options-builder-option"),!isNaN(parseFloat(e))&&isFinite(e)?(s.removeClass("lsd-util-hide"),t.addClass("lsd-util-hide")):(s.addClass("lsd-util-hide"),t.removeClass("lsd-util-hide")))}).trigger("change"),n("#lsd_sort_options_orderby").on("change",function(){var e=n(this).val();0<n("#lsd-sort-options-"+e).find("input").filter(":disabled").length&&n('.lsd-sort-option-toggle[data-key="'+e+'"]').trigger("click")}),n(".lsd-sort-option-toggle").on("click",function(){var e=n(this).data("key"),s=n("#lsd-sort-options-"+e+"-status"),e=n("#lsd-sort-options-"+e),t=s.val();1===parseInt(t)?(s.val(0),e.find("input[type=text], select").attr("disabled","disabled"),n(this).find("i").removeClass("fa-check-circle").addClass("fa-minus-circle"),e.addClass("lsd-metabox-sort-option-disable")):(s.val(1),e.find("input[type=text], select").removeAttr("disabled"),n(this).find("i").removeClass("fa-minus-circle").addClass("fa-check-circle"),e.removeClass("lsd-metabox-sort-option-disable"))}),n("#lsd_notification_content_hook").on("change",function(){var e=n(this).val();n(".lsd-placeholder-item").hide(),n(".lsd-placeholder-"+e).show(),n(".lsd-placeholder-general").show()}).trigger("change"),n("#lsd_addons_franchise_category").on("change",function(){var e=n(this).val(),s=n(".lsd-franchise-certain-category");e?s.removeClass("lsd-util-hide"):s.addClass("lsd-util-hide")}),n(".lsd-tab-switcher li a").on("click",function(e){e.preventDefault();var e=n(this).parent(),s=e.parent(),t=s.data("for"),t=n(t),s=(s.find(n("li")).removeClass("lsd-sub-tabs-active"),e.addClass("lsd-sub-tabs-active"),e.data("tab"));t.removeClass("lsd-tab-switcher-content-active"),n(`#lsd-tab-switcher-${s}-content`).addClass("lsd-tab-switcher-content-active")}),n(".lsd-skin-style-options").on("click",".lsd-skin-style-option",function(){var e=n(this),s=e.data("skin");n("#lsd_display_options_skin").val(s).trigger("change"),n(".lsd-skin-style-option").removeClass("selected"),e.addClass("selected"),n(".lsd-skin-content").addClass("lsd-util-hide"),n(`.lsd-skin-content[data-skin="${s}"]`).removeClass("lsd-util-hide")});n("#lsd_display_options_skin").val()||(e=n('.lsd-skin-style-option[data-skin="listgrid"]')).length&&e.trigger("click"),n(".lsd-settings-dashboard-menus").sortable({cancel:".lsd-custom-menu-content"}),n("body").on("click",".lsd-custom-menu-btn",function(){var e=n('<li class="lsd-custom-menu-list"><p><span class="lsd-custom-menu-label">'+lsd.i18n_field_label+'</span><span class="lsd-custom-menu-actions"><i class="fas fa-trash"></i> <i class="fas fa-chevron-down"></i></span></p><div class="lsd-custom-menu-content"></div></li>');n(".lsd-settings-dashboard-menus").append(e);let i=e.find(".lsd-custom-menu-content");var s=n("<input>",{type:"hidden",name:"lsd[dashboard_menus][]",class:"custom-menu-id"});let d={Label:lsd.i18n_placeholder_label,Slug:lsd.i18n_placeholder_slug,Icon:lsd.i18n_placeholder_icon,Content:""},o={Label:lsd.i18n_description_label,Slug:lsd.i18n_description_slug,Icon:lsd.i18n_description_icon,Content:lsd.i18n_description_content};["Label","Slug","Icon","Content"].forEach(e=>{var s=e.toLowerCase().replace(/\s+/g,"_"),t=n('<div class="lsd-field-group"></div>'),l=n('<label class="lsd-fields-label-tiny"></label>').text(e);t.append(l);let a;if("Icon"===e)a=n("<select>",{name:"",required:!0,"data-field":"icon",class:"lsd-iconpicker",id:"lsd_icon"}),lsd.icon_options.forEach(e=>{a.append(n("<option>",{value:e.value,text:e.label}))}),setTimeout(()=>{void 0!==n.fn.fontIconPicker&&a.fontIconPicker({emptyIcon:!1,emptyIconValue:""})},0);else if("Content"===e){let e="textarea_"+Date.now();a=n("<textarea>",{name:"",id:e,"data-field":"content"}),setTimeout(()=>{wp.editor.initialize(e,{tinymce:{toolbar1:"formatselect bold italic underline bullist numlist blockquote alignleft aligncenter alignright link unlink wp_more fullscreen",plugins:"lists paste link"},quicktags:!0,mediaButtons:!0})},10)}else a=n("<input>",{type:"text",name:"",required:!0,"data-field":s,placeholder:d[e],class:"lsd-admin-input"});t.append(a),t.append(n("<p></p>").text(o[e]).addClass("lsd-admin-description-tiny lsd-mb-0 lsd-mt-2")),i.append(t)}),e.append(s)}),n(document).on("input",'.lsd-custom-menu-list input[data-field="slug"]',function(){var e=n(this),s=e.closest(".lsd-custom-menu-list").find(".custom-menu-slug"),t=e.closest(".lsd-custom-menu-content"),l=t.find("input[data-field]"),a=t.find("select.lsd-iconpicker"),t=t.find("textarea");let i=e.val().toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-+|-+$/g,"");s.val(i),l.each(function(){var e=n(this),s=e.data("field");e.attr("name",`lsd[dashboard_menu_custom][${i}][${s}]`)}),a.each(function(){n(this).attr("name",`lsd[dashboard_menu_custom][${i}][icon]`)}),t.each(function(){n(this).attr("name",`lsd[dashboard_menu_custom][${i}][content]`)}),e.val(i),s.val(i)}),n(document).on("input",'.lsd-custom-menu-list input[data-field="label"]',function(){n(this).closest(".lsd-custom-menu-list").find(".lsd-custom-menu-label").html(n(this).val())}),n(document).on("blur",'.lsd-custom-menu-list input[data-field="label"]',function(){var e=n(this),s=e.closest(".lsd-custom-menu-list").find('input[data-field="slug"]');""===s.val().trim()&&(e=e.val().trim().toLowerCase().replace(/\s+/g,"-"),s.val(e).trigger("input"))}),n(document).on("click",".lsd-custom-menu-list .fa-trash",function(){n(this).closest(".lsd-custom-menu-list").remove()}),n(document).on("click",".lsd-custom-menu-list .fa-chevron-down",function(){n(this).closest(".lsd-custom-menu-list").find(".lsd-custom-menu-content").toggle()});var e=n("#lsd_details_page_detail_type");let a=n("#lsd_details_page_style"),i=a.find("option").map(function(){return{value:n(this).val().trim(),text:n(this).text()}}).get();if(e.change(function(){var s,e,t=n(this).val(),t=(s=t,i.filter(e=>"premade"===s?e.value.includes("style"):"dynamic"===s?"dynamic"===e.value:"elementor"!==s||!isNaN(e.value)));t=t,e=a.val(),a.empty(),0===t.length?a.append(n("<option></option>").attr("value","").text("No Style exists")):(t.forEach(e=>{a.append(n("<option></option>").attr("value",e.value).text(e.text))}),a.find(`option[value="${e}"]`).length&&a.val(e)),a.trigger("change")}),e.trigger("change"),"undefined"!=typeof inlineEditPost){let t=inlineEditPost.edit;inlineEditPost.edit=function(e){t.apply(this,arguments),"object"==typeof e&&(e=parseInt(this.getId(e)));var s=n("#edit-"+e),e=n("#post-"+e),e=n(".column-style",e).text();n("#lsd_displ_style",s).val(e)}}void 0!==n.fn.select2&&jQuery("#lsd_metabox_filter_options select").select2({allowClear:!0}),jQuery("#lsd_display_options_skin_mosaic_limit").on("blur",function(){var e=jQuery(this),s=parseInt(e.val(),10),t=parseInt(e.prop("defaultValue"),10)||12;!isNaN(s)&&s%2==0||e.val(t)}),jQuery(".post-type-listdom-listing #post").on("submit",function(e){let l=!0;n('.lsd-attribute-checkbox[data-required="1"]:visible').each(function(){var e=n(this),s=e.find('input[type="checkbox"]').is(":checked"),t=e.data("required-message");s?(e.removeClass("lsd-checkbox-error"),e.find(".lsd-checkbox-error-msg").remove()):(l=!1,e.addClass("lsd-checkbox-error"),0===e.find(".lsd-checkbox-error-msg").length&&e.append('<div class="lsd-checkbox-error-msg lsd-alert lsd-error">'+t+"</div>"))}),n('.lsd-attribute-radio[data-required="1"]:visible').each(function(){var e=n(this),s=e.find('input[type="radio"]').is(":checked"),t=e.data("required-message")||"Please select at least one option.";s?(e.removeClass("lsd-checkbox-error"),e.find(".lsd-checkbox-error-msg").remove()):(l=!1,e.addClass("lsd-checkbox-error"),0===e.find(".lsd-checkbox-error-msg").length&&e.append('<div class="lsd-checkbox-error-msg lsd-alert lsd-error">'+t+"</div>"))}),n('.lsd-attribute-image[data-required="1"]:visible').each(function(){var e=n(this),s=n(this).find("input[type=hidden]"),t=s.val(),e=e.data("required-message"),s=n("#"+s.attr("id")+"_img");t?(s.removeClass("lsd-checkbox-error"),s.next(".lsd-image-error-msg").remove()):(l=!1,s.addClass("lsd-checkbox-error"),0===s.next(".lsd-image-error-msg").length&&s.after('<div class="lsd-image-error-msg lsd-alert lsd-error">'+e+"</div>"))}),l||(e.preventDefault(),n("html, body").animate({scrollTop:n(".lsd-checkbox-error:first").offset().top-100},300))}),jQuery(function(e){let s=new URLSearchParams(window.location.search);var t=s.get("tab"),l=s.get("accordion");t&&l&&(t=e(`.lsd-accordion-title-${t}-`+l)).length&&(t.trigger("click"),e("html, body").animate({scrollTop:t.offset().top-100},500,function(){s.delete("accordion");var e=window.location.pathname+"?"+s.toString();window.history.replaceState({},"",e)}))})}),jQuery(function(d){let o="lsd-nav-tab-active",n=(e,s)=>`lsd_panel_${e}_`+s;function e(e){var s=e.closest(".lsd-nav-sub-tabs").data("parent"),t=e.data("key");e.addClass(o).siblings(".lsd-nav-tab").removeClass(o);let l=d("#"+n(s,t));var a,i,e=d(".lsd-tab-content-active");l.length&&!l.is(e)&&(e.length?e.removeClass("lsd-tab-content-active").fadeOut(150,function(){d(".lsd-tab-content").attr("hidden",!0),l.removeAttr("hidden").hide().fadeIn(150).addClass("lsd-tab-content-active")}):(d(".lsd-tab-content").attr("hidden",!0),l.removeAttr("hidden").hide().fadeIn(150).addClass("lsd-tab-content-active"))),e=t,"customizer"===(a=s)&&(a=d("#"+n(a,e))).length&&a.data("title")&&(e=d("#lsd_customizer_tab_title"),i=d(".lsd-customizer-reset-category"),e.text(a.data("title")),e=a.data("category"))&&i.attr("data-category",e),a=s,i=t,(e=new URL(window.location)).searchParams.set("tab",a),e.searchParams.set("subtab",i),history.replaceState(null,"",e)}d(".lsd-nav-sub-tabs").on("click",".lsd-nav-tab",function(){e(d(this))}),d(".lsd-nav-tab-wrapper > li > a.lsd-nav-tab-active").closest("li").find(".lsd-nav-sub-tabs .lsd-nav-tab.lsd-nav-tab-active").trigger("click")}),jQuery(function(e){e(".lsd-switch-confirm").each(function(){var e=jQuery(this);let s=e.find('input[type="checkbox"]'),t=e.find(".lsd-switch-confirm-box");s.on("change",function(){s.is(":checked")?t.addClass("lsd-util-hide"):t.removeClass("lsd-util-hide")}),t.find(".lsd-switch-confirm-cancel").on("click",function(){s.prop("checked",!0).trigger("change"),t.addClass("lsd-util-hide")}),t.find(".lsd-switch-confirm-accept").on("click",function(){t.addClass("lsd-util-hide")})})}),(p=>{p(document).ready(function(){var s,t;s=".lsd-auth-switch-button",t=200,jQuery(".lsd-auth-form-content").first().show(),jQuery(s).first().addClass("active"),jQuery(s).on("click",function(){let e=jQuery(this).data("target");jQuery(".lsd-auth-form-content:visible").fadeOut(t,function(){jQuery(e).fadeIn(t)}),jQuery(s).removeClass("active"),jQuery(this).addClass("active"),jQuery(s).filter(function(){return jQuery(this).data("target")===e}).addClass("active")});var e,l,a,i=new URLSearchParams(window.location.search).get("tab");i&&(e=jQuery('.lsd-auth-switch-button[data-target="#lsd-login-form"]'),l=jQuery('.lsd-auth-switch-button[data-target="#lsd-register-form"]'),a=jQuery('.lsd-auth-switch-button[data-target="#lsd-forgot-password-form"]'),"login"===i?e.trigger("click").addClass("active"):"register"===i?l.trigger("click").addClass("active"):"lostpassword"===i&&a.trigger("click").addClass("active")),p(".lsd-tabs .nav-tab").on("click",function(){var e=p(this).data("key");p(".nav-tab").removeClass("nav-tab-active"),p(this).addClass("nav-tab-active"),p(".lsd-tab-content").removeClass("lsd-tab-content-active"),p("#lsd_tab_content_"+e).addClass("lsd-tab-content-active")}),p(".lsd-select-profile-button").on("click",function(e){e.preventDefault();let l=p(this),a;(a=wp.media({multiple:!0})).on("select",function(){var e=a.state().get("selection");let s=p(l).data("for"),t=p(l).data("name");e.map(function(e){e=e.toJSON(),p(s).append('<li data-id="'+e.id+'"><input type="hidden" name="'+t+'" value="'+e.id+'"><img src="'+e.url+'" alt=""><div class="lsd-profile-actions"><i class="lsd-icon fas fa-trash-alt lsd-remove-profile-single-button"></i> <i class="lsd-icon fas fa-arrows-alt lsd-handler"></i></div></li>')}),p(".lsd-remove-profile-button").toggleClass("lsd-util-hide"),a.close(),p(".lsd-remove-profile-single-button").off("click").on("click",function(e){e.preventDefault(),p(this).parent().parent().remove()})}),a.open()}),p(".lsd-remove-profile-button").on("click",function(e){e.preventDefault();e=p(this).data("for");p(e).html(""),p(this).toggleClass("lsd-util-hide")}),p(".lsd-select-gallery-button").on("click",function(e){e.preventDefault();let l=p(this),a;(a=wp.media({multiple:!0})).on("select",function(){var e=a.state().get("selection");let s=p(l).data("for"),t=p(l).data("name");e.map(function(e){e=e.toJSON(),p(s).append('<li data-id="'+e.id+'"><input type="hidden" name="'+t+'" value="'+e.id+'"><img src="'+e.url+'" alt=""><div class="lsd-gallery-actions"><i class="lsd-icon fas fa-trash-alt lsd-remove-gallery-single-button"></i> <i class="lsd-icon fas fa-arrows-alt lsd-handler"></i></div></li>')}),p(".lsd-remove-gallery-button").toggleClass("lsd-util-hide"),a.close(),p(".lsd-remove-gallery-single-button").off("click").on("click",function(e){e.preventDefault(),p(this).parent().parent().remove()})}),a.open()}),p(".lsd-upload-gallery-button").on("click",function(e){e.preventDefault(),p("#lsd_listing_gallery_uploader").click()}),p(".lsd-remove-gallery-button").on("click",function(e){e.preventDefault();e=p(this).data("for");p(e).html(""),p(this).toggleClass("lsd-util-hide")}),p(".lsd-remove-gallery-single-button").off("click").on("click",function(e){e.preventDefault(),p(this).parent().parent().remove()}),p(document).on("click",".lsd-embed-featured-icon",function(){var e=p(this);"1"===e.attr("data-featured")?e.removeClass("fas fa-star").addClass("far fa-star").attr("title","Add as Featured Video").attr("data-featured","0").closest("li").find(".lsd-embed-featured-status").val("0"):(p('.lsd-embed-featured-icon[data-featured="1"]').removeClass("fas fa-star").addClass("far fa-star").attr("title","Add as Featured Video").attr("data-featured","0").closest("li").find(".lsd-embed-featured-status").val("0"),e.removeClass("far fa-star").addClass("fas fa-star").attr("title","Remove From Featured Video").attr("data-featured","1").closest("li").find(".lsd-embed-featured-status").val("1"))}),p(".lsd-add-embed-button").on("click",function(e){e.preventDefault();var e=p(this).data("template"),s=p(this).data("for"),t=p("#lsd_listing_embeds_index"),l=t.val(),a=parseInt(l)+1,t=(t.val(a),p(e).html().replace(/:i:/g,l));p(s).append(t),p(".lsd-remove-embed-single-button").off("click").on("click",function(e){e.preventDefault(),p(this).parent().parent().parent().remove()})}),p(".lsd-remove-embed-button").on("click",function(e){e.preventDefault();e=p(this).data("for");p(e).html(""),p(this).toggleClass("lsd-util-hide")}),p(".lsd-remove-embed-single-button").off("click").on("click",function(e){e.preventDefault(),p(this).parent().parent().parent().remove()}),p(".lsd-select-file-button").on("click",function(e){e.preventDefault();let t=p(this),l;(l=wp.media()).on("select",function(){var e=l.state().get("selection").first(),s=p(t).data("for");p(s+"_file").html('<a href="'+e.attributes.url+'" target="_blank">'+e.attributes.url+"</a>"),p(s).val(e.id),p(".lsd-select-file-button").toggleClass("lsd-util-hide"),p(".lsd-remove-file-button").toggleClass("lsd-util-hide"),l.close()}),l.open()}),p(".lsd-remove-file-button").on("click",function(e){e.preventDefault();e=p(this).data("for");p(e+"_file").html(""),p(e).val(""),p(".lsd-select-file-button").toggleClass("lsd-util-hide"),p(".lsd-remove-file-button").toggleClass("lsd-util-hide")}),p(".lsd-add-bookable-button").on("click",function(e){e.preventDefault();var e=p(this).data("template"),s=p(this).data("for"),t=p("#lsd_listing_bookables_index"),l=t.val(),a=parseInt(l)+1,t=(t.val(a),p(e).html().replace(/:i:/g,l));p(s).append(t),listdom_trigger_bookable_remove(),listdom_trigger_bookable_advanced(),listdom_trigger_bookable_prices(),listdom_trigger_toggle()}),p("#lsd_bo_type").on("change",function(){var e=p(this).val();p(".lsd-listing-bookable-container").removeClass("lsd-listing-bookables-general").removeClass("lsd-listing-bookables-property").removeClass("lsd-listing-bookables-event").addClass("lsd-listing-bookables-"+e)}),listdom_trigger_bookable_remove(),listdom_trigger_bookable_advanced(),listdom_trigger_bookable_prices(),p("#lsd_listing_category").on("change",function(){var e=p(this).val(),s=p(".lsd-category-specific"),t=p(".lsd-category-specific-all"),l=p(".lsd-category-specific-"+e),a=p('input[data-required="1"], select[data-required="1"], textarea[data-required="1"]');s.addClass("lsd-util-hide"),t.removeClass("lsd-util-hide"),l.removeClass("lsd-util-hide"),s.find(p("input[required], select[required], textarea[required]")).removeAttr("required"),t.find(a).attr("required",!0),l.find(a).attr("required",!0),lsdaddjob_new_category(e)}).trigger("change"),p(".lsd-ava-off").on("change",function(){var e=p(this).data("daycode");p(this).is(":checked")?p("#lsd-ava-"+e+" .lsd-ava-hours input").attr("disabled","disabled").addClass("disabled"):p("#lsd-ava-"+e+" .lsd-ava-hours input").removeAttr("disabled").removeClass("disabled")}).trigger("change"),p("#lsd_object_type_address").on("keyup keypress",function(e){if(13===(e.keyCode||e.which))return e.preventDefault(),!1});let u;p(".lsd-autosuggest").on("keyup",function(){let t=p(this);var e=t.val(),s=t.data("min-characters");let l=t.data("max-items");var a=t.data("source");let i=t.data("name");var d=t.data("nonce"),o=t.data("append");let n=p(o),r=t.parent(),c=p(t.data("suggestions"));if(e.length<s)return r.removeClass("lsd-has-suggestions"),c.html(""),!1;u&&u.abort(),u=p.ajax({url:lsd.ajaxurl,data:"action=lsd_autosuggest&_wpnonce="+d+"&term="+e+"&source="+a,dataType:"json",type:"post",success:function(e){e.success&&(e.total?r.addClass("lsd-has-suggestions"):r.removeClass("lsd-has-suggestions"),c.html(e.items),c.find(p("li")).off("click").on("click",function(){var e=p(this),s=e.data("value"),e=e.text();l&&n.find(p("span")).length>=l||(!n.find(p(".lsd-autosuggest-items-"+s)).length&&(n.append('<span class="lsd-tooltip lsd-autosuggest-items-'+s+'" data-lsd-tooltip="Click twice to delete">'+e+' <i class="lsd-icon far fa-trash-alt" data-value="'+s+'" data-confirm="0"></i><input type="hidden" name="'+i+'[]" value="'+s+'"></span>'),listdom_trigger_autosuggest_remove(),e=r.data("toggle"))&&p(e).removeClass("lsd-util-hide"),t.val(""),c.html(""),r.removeClass("lsd-has-suggestions"))}))}})}),listdom_trigger_autosuggest_remove(),void 0!==p.fn.daterangepicker&&p("input.lsd-date-range-picker").each(function(){var e=p(this),s=e.data("periods");let t=e.data("format");var l,a={};for(l in s)a[s[l]]=[moment().add(l,"month").startOf("month"),moment().add(l,"month").endOf("month")];e.daterangepicker({minDate:moment(),ranges:a,alwaysShowCalendars:!0,showCustomRangeLabel:!1,autoUpdateInput:!1,locale:{format:t}}),e.on("apply.daterangepicker",function(e,s){p(this).val(s.startDate.format(t)+" - "+s.endDate.format(t))}),e.on("cancel.daterangepicker",function(){p(this).val("")})}),p(".lsd-uploader input[type=file]").on("change",function(e){e.preventDefault();var s=p(this),e=s.data("key"),t=s.data("nonce"),l=p("#lsd_uploader_"+e+"_wrapper");let a=l.find(p(".lsd-uploader-preview")),i=l.find(p("input.lsd-uploader-value")),d=p("#lsd_uploader_"+e+"_message");var o=new FormData,n=(o.append("action","lsd_uploader"),o.append("key",e),o.append("_wpnonce",t),s.prop("files").length);for(let e=0;e<n;e++)o.append("files[]",s.prop("files")[e]);d.html(""),p.ajax({url:lsd.ajaxurl,type:"POST",data:o,dataType:"json",processData:!1,contentType:!1}).done(function(e){if(e.success){let s="";a.length&&(a.html(""),e.data.map(function(e){a.append('<a href="'+e.url+'" target="_blank">'+e.url+"</a><br>")})),e.data.map(function(e){s+=e.id+","}),d.html(listdom_alertify(e.message,"lsd-success")),i.val(s)}else d.html(listdom_alertify(e.message,"lsd-error"));setTimeout(function(){d.html("")},5e3)})}),p(".lsd-h-scroll-shadow-wrapper").each(function(){var e=p(this),s=e.find(p(".lsd-h-scroll-shadow-content"));let t=e.find(p(".lsd-h-scroll-shadow-left")),l=e.find(p(".lsd-h-scroll-shadow-right")),a=s[0].scrollWidth-e[0].offsetWidth;0==a?(t.css("opacity",0),l.css("opacity",0)):(l.css("opacity",1),s.on("scroll",function(){var e=this.scrollLeft/a;t.css("opacity",e),l.css("opacity",1-e)}))}),p(".lsd-collapsible .lsd-collapsible-trigger").on("click",function(){p(this).parent().removeClass("lsd-collapsible-close")}),p(".lsd-inline-popup-trigger").on("click",function(e){e.preventDefault(),e.stopPropagation();let s=p(p(this).data("for")),t=p("body"),l=e=>{s.is(e.target)||0!==s.has(e.target).length||(t.find(".lsd-inline-popup-active").removeClass("lsd-inline-popup-active"),t.removeClass("lsd-inline-popup-is-open"),t.off("click.lsd-inline-popup",l))};if(s.hasClass("lsd-inline-popup-active"))return l(e);t.off("click.lsd-inline-popup"),t.find(".lsd-inline-popup-active").removeClass("lsd-inline-popup-active"),t.removeClass("lsd-inline-popup-is-open"),s.addClass("lsd-inline-popup-active");e=p(this).data("focus");e&&p(e).focus(),setTimeout(()=>{t.addClass("lsd-inline-popup-is-open"),t.on("click.lsd-inline-popup",l)},200)})}),p(".lsd-select-image-button").on("click",function(e){e.preventDefault();let t=p(this),l;(l=wp.media({})).on("select",function(){var e=l.state().get("selection").first(),s=t.data("for");p(s+"_img").html('<img alt="" src="'+e.attributes.url+'">'),p(s).val(e.id),t.toggleClass("lsd-util-hide"),t.parent().find(p(".lsd-remove-image-button")).toggleClass("lsd-util-hide"),l.close()}),l.open()}),p(".lsd-remove-image-button").on("click",function(e){e.preventDefault();var e=p(this),s=e.data("for");p(s+"_img").html(""),p(s).val(""),e.parent().find(p(".lsd-select-image-button")).toggleClass("lsd-util-hide"),e.toggleClass("lsd-util-hide")})})(jQuery);let listdom_googlemaps_callbacks=[];function listdom_add_googlemaps_callbacks(e){return!(void 0===e||!jQuery.isFunction(e)||(listdom_did_googlemaps_callbacks?e():listdom_googlemaps_callbacks.push(e),0))}function listdom_get_googlemaps_callbacks(){return listdom_googlemaps_callbacks}let listdom_did_googlemaps_callbacks=!1;function listdom_googlemaps_callback(){for(var e in listdom_did_googlemaps_callbacks=!0,listdom_get_googlemaps_callbacks())listdom_googlemaps_callbacks[e]()}function listdom_alertify(e,s){return'<div class="lsd-alert '+s+'">'+e+"</div>"}class ListdomToast{constructor(e,s={}){this.alert=e,this.type=s.type||"lsd-natural",this.position=s.position||"lsd-bottom-right",this.icon=s.icon||null,this.hideTime="number"==typeof s.hideTime?s.hideTime:8e3,this.progress=!1!==s.progress,this.showClose=!1!==s.showClose,this.confirm=s.confirm||null,this.container=this.getContainer(),this.toast=this.createToast(),this.messageEl=this.toast.find(".lsd-toast-message"),this.autoHideTimer=null,this.appendToast(),this.confirm||this.initAutoHide(),this.bindEvents()}getContainer(){let e=jQuery(".lsd-toast-container."+this.position);return e=e.length?e:jQuery('<div class="lsd-toast-container '+this.position+'"></div>').appendTo("body")}createToast(){let e=jQuery('<div class="lsd-toast '+this.type+'"></div>');var s,t,l=this.icon||{"lsd-error":'<i class="fa fa-times-circle"></i>',"lsd-warning":'<i class="fa fa-exclamation-triangle"></i>',"lsd-info":'<i class="fa fa-info-circle"></i>',"lsd-success":'<i class="fa fa-check-circle"></i>',"lsd-natural":'<i class="fa fa-bell"></i>',"lsd-in-progress":'<i class="lsd-loader"></i>',"lsd-confirm":'<i class="listdom-icon lsdi-question"></i>'}[this.type]||"";return l&&(-1===l.indexOf("<")?e.append('<span class="lsd-toast-icon"><i class="'+l+'"></i></span>'):e.append('<span class="lsd-toast-icon">'+l+"</span>")),e.append('<span class="lsd-toast-message">'+this.alert+"</span>"),this.confirm&&(this.overlay=jQuery('<div class="lsd-toast-overlay"></div>'),jQuery("body").append(this.overlay),this.overlay.on("click",e=>{e.target===this.overlay[0]&&("function"==typeof this.confirm.onCloseOverlay&&this.confirm.onCloseOverlay(this),this.remove())}),l=jQuery('<div class="lsd-toast-actions"></div>'),t=this.confirm.confirmText,s=this.confirm.cancelText,t=jQuery('<button class="lsd-secondary-button">'+t+"</button>"),s=jQuery('<button class="lsd-secondary-button">'+s+"</button>"),t.on("click",()=>{"function"==typeof this.confirm.onConfirm&&this.confirm.onConfirm(this),this.remove()}),s.on("click",()=>{"function"==typeof this.confirm.onCancel&&this.confirm.onCancel(this),this.remove()}),l.append(t,s),e.append(l),this.progress=!1,this.hideTime=0),this.showClose&&!this.confirm&&((t=jQuery('<span class="lsd-toast-close">&times;</span>')).on("click",()=>this.remove()),e.append(t)),this.progress&&0<this.hideTime&&(e.addClass("lsd-has-progress"),e.css("--lsd-progress-time",this.hideTime+"ms"),setTimeout(()=>e.addClass("lsd-progress-run"),50)),e}appendToast(){this.container.append(this.toast)}initAutoHide(){0<this.hideTime&&(this.autoHideTimer=setTimeout(()=>this.remove(),this.hideTime))}bindEvents(){this.confirm||(this.toast.on("mouseenter",()=>this.pause()),this.toast.on("mouseleave",()=>this.resume()))}pause(){this.toast.addClass("lsd-paused"),this.autoHideTimer&&clearTimeout(this.autoHideTimer);var e=getComputedStyle(this.toast[0],"::after").getPropertyValue("width");this.toast[0].style.setProperty("--lsd-paused-width",e)}resume(){this.toast.removeClass("lsd-paused"),0<this.hideTime&&(this.toast.css("--lsd-progress-time",this.hideTime+"ms"),this.toast.addClass("lsd-progress-run"),this.autoHideTimer=setTimeout(()=>this.remove(),this.hideTime))}update(e,s){this.messageEl.html(e),s&&(this.toast.removeClass("lsd-error lsd-warning lsd-info lsd-success lsd-natural lsd-in-progress lsd-confirm"),this.toast.addClass(s))}remove(){this.toast.addClass("lsd-toast-remove"),setTimeout(()=>{this.toast.remove(),this.overlay&&this.overlay.remove(),this.container.children().length||this.container.remove()},300)}}let ListdomPageScroll={scrollPosition:0,stop(){this.scrollPosition=window.scrollY,document.body.style.position="fixed",document.body.style.top=`-${this.scrollPosition}px`,document.body.style.left="0",document.body.style.right="0",document.body.style.overflowY="scroll"},start(){document.body.style.position="",document.body.style.top="",document.body.style.left="",document.body.style.right="",document.body.style.overflowY="",window.scrollTo(0,this.scrollPosition)}};function listdom_toastify(e,s,t={}){return t.update instanceof ListdomToast?(t.update.update(e,s),t.update):new ListdomToast(e,{type:s,position:t.position,icon:t.icon,hideTime:t.hideTime,progress:t.progress,showClose:t.showClose,confirm:t.confirm})}